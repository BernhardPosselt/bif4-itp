// Generated by CoffeeScript 1.3.3
(function() {
  var _this = this;

  angular.module('WebChat').factory('websocket', function($rootScope, websocket_domain, websocket_path, websocket_ssl, $window) {
    var socket;
    socket = new $window.WebChat.WebSocket();
    socket.connect(websocket_domain, websocket_path, websocket_ssl);
    socket.onReceive(function(message) {
      return $rootScope.$broadcast('message', message);
    });
    return socket;
  });

}).call(this);
