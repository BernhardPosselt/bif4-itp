// Generated by CoffeeScript 1.3.3
(function() {
  var _this = this;

  angular.module('WebChat').factory('websocket', function($rootScope, websocket_domain, websocket_path, websocket_ssl, $window) {
    var socket;
    socket = new $window.WebChat.WebSocket();
    socket.connect(websocket_domain, websocket_path, websocket_ssl);
    socket.onReceive(function(message) {
      return $rootScope.$broadcast('message', message);
    });
    return socket;
  });

  angular.module('WebChat').factory('activeChannel', function($rootScope) {
    var activeChannel;
    activeChannel = {};
    activeChannel.activeChannel = {};
    activeChannel.setActiveChannel = function(channel) {
      this.activeChannel = channel;
      return $rootScope.$broadcast('changed_channel');
    };
    activeChannel.getActiveChannel = function() {
      return this.activeChannel;
    };
    return activeChannel;
  });

}).call(this);
