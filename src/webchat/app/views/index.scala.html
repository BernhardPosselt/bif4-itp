@(username: String, admin: Boolean)

@main(username, title = "Webchat", admin) {

    <div id="channel_sidebar">
        <div class="tabbed_navi">
            <ul>
                <li><a ng-click="tab=false" href="#" class="channels_link">Channels</a></li>
                <li><a ng-click="tab=1" href="#" class="groups_link">Groups</a></li>
            </ul>
        </div>
        <div id="channels" ng-show="!tab" ng-controller="ChannelListController">
            <div class="channels">
                <ul>
                    <li ng-class="{active: channel.id == selected, unread: channel.id == unread}" 
                        ng-click="join(channel.id)" 
                        ng-repeat="channel in channels">{{ channel.name }}</li>
                </ul>
            </div>
            <div class="utils">
                <a ng-click="showNewChannelDialogue(true)" 
                   class="newchannel link_button" href="#" >New channel</a>
            </div>
        </div>
        <div id="groups" ng-show="tab == 1">
            <div ng-controller="GroupListController">
                <div ng-repeat="group in groups">
                    <h1>{{group.name}}
                        <a ng-click="inviteGroup(group.id, true)" class="invite_group" title="invite group {{group.name}} to current channel"></a>
                    </h1>
                    <ul>
                        <li ng-class="user.status" 
                            ng-repeat="user in users | userInGroup:group.id">
                            {{ user.getFullName() }}
                            <a ng-click="inviteUser(user.id, true)" class="invite_user" title="invite user {{ user.getFullName() }} to current channel"></a>
                        </li>
                    </ul>
                </div>
                <h1>All</h1>
                <ul>
                    <li ng-class="user.status" 
                        ng-repeat="user in users">{{ user.getFullName() }}
                        <a ng-click="inviteUser(user.id, true)" class="invite_user" title="invite user {{ user.getFullName() }} to current channel"></a>
                    </li>
                </ul>
            </div>
        </div>
        
    </div>

    <div id="stream_window" ng-controller="MessageController">
        <div id="streams"></div>

        <div id="input" ng-model="messageType">
            <select id="input_options">
                <option value="text" selected="selected">Text</option>
                <option value="as3">ActionScript 3</option>
                <option value="bash">Bash</option>
                <option value="cpp">C++</option>
                <option value="csharp">C#</option>
                <option value="css">CSS</option>
                <option value="diff">Diff</option>
                <option value="erlang">Erlang</option>
                <option value="groovy">Groovy</option>
                <option value="java">Java</option>
                <option value="js">JavaScript</option>
                <option value="perl">Perl</option>
                <option value="php">Php</option>
                <option value="powershell">Powershell</option>
                <option value="python">Python</option>
                <option value="ruby">Ruby</option>
                <option value="sass">SASS</option>
                <option value="scala">Scala</option>
                <option value="sql">SQL</option>
                <option value="vb">Visual Basic</option>
                <option value="xml">XML</option>
            </select>
            <div id="input_field_wrap">
                <textarea id="input_field" ng-model="textInput"></textarea>
            </div>
            <input ng-click="sendMessage(textInput, messageType)" id="input_send" type="button" value="Send" />
        </div>
    </div>

    <div id="info_sidebar">
        <div id="channel_info" ng-repeat="channel in items | filter:{ id: getActiveChannelId() }">
            <!--
            <fieldset>
                <legend>Users</legend>
                <div id="channel_users" ng-controller="GroupController">
                    <div ng-repeat="group in items | groupInChannel:{ groups: channel.groups }" class="users">
                        <h1>{{ group.name }}
                            <a ng-controller="ChannelController" ng-click="inviteGroup(group.id, false)" class="kick_group" title="remove group {{group.name}} from channel"></a>
                        </h1>
                        <ul ng-controller="UserController">
                            <li ng-class="{true:'online', false:'offline'}[user.online]" ng-repeat="user in items | userInGroup:{groupid: group.id}">{{ user.name }}<a ng-controller="ChannelController" ng-click="inviteUser(user.id, false)"class="kick_user" title="remove user {{ user.name }} from channel"></a></li>
                        </ul>
                    </div>
                    <div class="users" ng-controller="UserController">
                        <h1>Other Users</h1>
                        <ul ng-controller="UserController">
                            <li ng-class="{true:'online', false:'offline'}[user.online]" ng-repeat="user in items | userInChannel:{ users: channel.users }">{{ user.name }}<a ng-controller="ChannelController" ng-click="inviteUser(user.id, false)"class="kick_user" title="remove user {{ user.name }} from channel"></a></li>
                        </ul>
                    </div>
                </div>
            </fieldset>-->
        </div>
        <div id="file_info">
            <fieldset>
                <legend>Files</legend>
                <div id="channel_files">

                </div>

                <div class="utils">
                    <iframe src=""></iframe>
                </div>
            </fieldset>
        </div>
    </div>

    <!-- Edit profile form form -->
    <div ng-show="editProfileDialogue==true" id="edit_profile_window" class="popup_window">
        <div class="popup_window_title">Edit profile</div>
        <div class="popup_window_content">
            <div class="field">
                <label for="edit_profile_username">Username:</label>
                <input type="text" id="edit_profile_username" name="edit_profile_username" />
            </div>
            <div class="field">
                <label for="edit_profile_password">Password:</label>
                <input type="password" id="edit_profile_password" name="edit_profile_password" />
            </div>
            <div class="field">
                <label for="edit_profile_password_repeat">Repeat Password:</label>
                <input type="password" id="edit_profile_password_repeat" name="edit_profile_password_repeat" />
            </div>
            <div class="field">
                <label for="edit_profile_email">E-Mail:</label>
                <input type="text" id="edit_profile_email" name="edit_profile_email" />
            </div>         
            <div class="field">
                <label for="edit_profile_first_name">First Name:</label>
                <input type="text" id="edit_profile_first_name" name="edit_profile_first_name" />
            </div>
            <div class="field">
                <label for="edit_profile_last_name">Last Name:</label>
                <input type="text" id="edit_profile_last_name" name="edit_profile_last_name" />
            </div>               
        </div>
        <div class="popup_window_buttons">
              <input class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Save"/>
        </div>
    </div>

    <!-- Change topic form -->
    <div ng-show="changeTopicDialogue==true" id="change_topic_window" class="popup_window">
        <div class="popup_window_title">Change topic</div>
        <div class="popup_window_content">
            <div class="field">
                <label for="change_topic">Topic:</label>
                <textarea id="change_topic" name="change_topic" ></textarea>
            </div>
        </div>
        <div class="popup_window_buttons">
              <input class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Change"/>
        </div>
    </div>

    <!-- Change channelname form -->
    <div ng-show="changeChannelNameDialogue==true" id="change_channel_name_window" class="popup_window">
        <div class="popup_window_title">Change channel name</div>
        <div class="popup_window_content">
            <div class="field">
                <label for="change_channel_name">Name:</label>
                <input id="change_channel_name" type="text" size="30" name="change_channel_name" />
            </div>
        </div>
        <div class="popup_window_buttons">
              <input class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Change"/>
        </div>
    </div>

    <!-- Delete channel form -->
    <div ng-show="deleteChannelDialogue==true" id="delete_channel_window" class="popup_window">
        <div class="popup_window_title">Delete channel</div>
        <div class="popup_window_content">
            <p>Do you really want to delete the channel: <span id="delete_channel"></span>?</p>
        </div>
        <div class="popup_window_buttons">
              <input class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Delete"/>
        </div>
    </div>

    <!-- Close channel form -->
    <div ng-show="closeChannelDialogue==true" id="close_channel_window" class="popup_window">
        <div class="popup_window_title">Delete channel</div>
        <div class="popup_window_content">
            <p>Do you really want to close the channel: <span id="close_channel"></span>?
            A closed channel will be moved into the archives.</p>
        </div>
        <div class="popup_window_buttons">
              <input class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Close"/>
        </div>
    </div>

    <!-- Create new channel form -->
    <div ng-show="newChannelDialogue==true" id="newchannel_window" class="popup_window">
        <div class="popup_window_title">New channel</div>
        <div class="popup_window_content">
            <div class="field">
                <label for="newchannel_name">Name:</label>
                <input id="newchannel_name" type="text" size="30" name="newchannel_name" />
            </div>
            <div class="field">
                <label for="newchannel_topic">Topic:</label>
                <input id="newchannel_topic" type="text" size="30" name="newchannel_topic" />
            </div>
            <div class="field">
                <label for="newchannel_public">Public:</label>
                <input id="newchannel_public" type="checkbox" size="30" name="newchannel_public" />
            </div>
        </div>
        <div class="popup_window_buttons">
              <input ng-click="newChannelDialogue=false" 
                     class="cancel" type="button" value="Cancel"/>
              <input class="submit" type="button" value="Create"/>
        </div>
    </div>


}
